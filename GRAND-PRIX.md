# How to use the Makefile ğŸ
This makefile helps you automate tasks such as building, running, and cleaning the server and client programs for the racing game project. The makefile contains several rules that can be executed by the make utility.

# Prerequisites âš™ï¸
To use this makefile, you need to have the following installed on your system:

**Go:** (https://golang.org/doc/install)

**Make:** (https://www.gnu.org/software/make/)
You also need to have the source files server.go and client.go in the root directory of your project.

# Usage ğŸ‘©â€ğŸ’»
To use this **makefile**, you can run different commands using make in the terminal. Here are some examples of the commands and their descriptions:

- `make build-server`: This command builds the server binary from the `server.go` source file and names it `server.out`.

- `make build-client`: This command builds the client binary from the `client.go` source file and names it `client.out`.

- `make run-server`: This command builds and runs the server binary with the default server address `127.0.0.1:3333`.

- `make run-client`: This command builds and runs the client binary with the default server address `127.0.0.1:3333`.

- `make clean`: This command cleans up the binaries and other files generated by the build process.

- `make`: This command runs the default rule, which is all. This rule builds both the server and client binaries.

# Flags ğŸš©

## Server ğŸ’»

The server binary has multiple flags that can be passed during execution to modify the race's execution, these include:

```go
var (
	host      = flag.String("host", "localhost", "server host")
	port      = flag.String("port", "9000", "server port")
	numRacers = flag.Int("numRacers", 4, "number of racers")
	waitTime  = flag.Int("waitTime", 10, "wait time for the race to start")
	lapNumber = flag.Int("lapNumber", 10, "number of race laps")
)
```

## Client ğŸ•¹ï¸

The client also has a couple of flags that can be used to customize the execution of the race client.

```go
var (
	host  = flag.String("host", "localhost", "server host")
	port  = flag.String("port", "9000", "server port")
	human = flag.Bool("human", true, "flag for human based client")
)
```

# Examples ğŸï¸

1. Run a race with no human players and default params.
```shell
make clean
make all
./server.out
```

2. Run a race with a custom number of players, laps and custom connection timeout. Client runs with default settings.

```shell
make clean
make all

./server.out -numRacers 6 -lapNumber 3 -waitTime 20
./client.out
```

3. Run a race with a custom server and client settings
```shell
make clean
make all

./server.out -numRacers 4 -lapNumber 10 -waitTime 10
./client.out -human false
```

# Modifications ğŸ› ï¸

You can also modify some variables in the makefile to suit your needs. For example, you can change the **binary names**, the **source files**, or the **server address** by editing these lines:

```make
# Define the binary names
SERVER_BINARY_NAME=server.out
CLIENT_BINARY_NAME=client.out

# Define the source files
SERVER_SOURCE=server.go
CLIENT_SOURCE=client.go

# Define the server address
SERVER_ADDRESS=127.0.0.1:3333
```

